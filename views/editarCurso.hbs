<div class="section-title text-center m-2 p-3">
  <h1 class="col-12">
    <span class="col-12">
      Editar curso
    </span>
  </h1>
</div>
<div class="container">
  <div class="row justify-content-center pb-5">
    <div class="col-12 col-md-8 col-lg-6">

      {{#each data}}

        <form
          action="/cursos/editarCurso/{{id_curso}}"
          method="post"
          enctype="multipart/form-data"
        >
          <div class="form-group my-3">
            <label for="formGroupExampleInput">Curso</label>
            <input
              type="text"
              class="form-control"
              id="formGroupExampleInput"
              placeholder="Ingrese su nombre"
              name="curso"
              value="{{curso}}"
            />
          </div>

          <div class="form-group my-3">
            <label for="exampleFormControlFile1">Imagen</label>
            <input
              type="file"
              class="form-control"
              id="exampleFormControlFile1"
              name="imagen"
            />
            <label for="" class="mt-2">{{imagen}}</label>

            <img
              src="{{imagen}}"
              class="mt-2"
              style="width: 100%;"
              alt=""
              id="imagenProbando"
            />

          </div>

          <div class="form-group my-3">
            <label for="formGroupExampleInput2">Descripción</label>
            <input
              type="text"
              class="form-control"
              id="formGroupExampleInput2"
              placeholder="Ingrese el detalle de la Obra"
              name="descripcion"
              value="{{descripcion}}"
            />
          </div>
          <div class="form-group my-3">
            <label for="exampleFormControlFile1">Duración</label>
            <input
              type="text"
              class="form-control"
              id="exampleFormControlFile1"
              placeholder="Ingrese duración del curso"
              name="duracion"
              value="{{duracion}}"
            />
          </div>
          <div class="form-group my-3">
            <label for="exampleFormControlFile1">Modalidad</label>
            <input
              type="text"
              class="form-control"
              id="exampleFormControlFile1"
              placeholder="Ingrese modalidad del curso"
              name="modalidad"
              value="{{modalidad}}"
            />
          </div>
          <div class="form-group my-3">
            <label for="exampleFormControlFile1">Lugar</label>
            <input
              type="text"
              class="form-control"
              id="exampleFormControlFile1"
              placeholder="Ingrese lugar del curso"
              name="lugar"
              value="{{lugar}}"
            />
          </div>
          <div class="form-group my-3">
            <label for="exampleFormControlFile1">Precio</label>
            <input
              type="text"
              class="form-control"
              id="exampleFormControlFile1"
              placeholder="Ingrese precio del curso"
              name="precio"
              value="{{precio}}"
            />
          </div>
          <div class="d-grid gap-2 col-6 mx-auto">
            <button type="submit" class="btnWA btn-block mt-5">Modificar</button>
            <a href="/cursos/adminCursos" class="btnWA btn-block mt-4 mb-4 text-center">Retornar</a>
          </div>
        </form>

      {{/each}}

    </div>
  </div>
</div>

<script>
  let archivo = document.getElementById("exampleFormControlFile1"); 
  let imagen = document.getElementById("imagenProbando"); let file;
  archivo.addEventListener("change",function(){
    file = archivo.files[0];
    if(file){ 
      const fileReader = new FileReader();
      fileReader.addEventListener("load",function(){
        imagen.setAttribute("src",fileReader.result); 
      })
    fileReader.readAsDataURL(file); 
    } 
  })

</script>